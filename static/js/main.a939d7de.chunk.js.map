{"version":3,"sources":["../../pottery-ui/packages/core/dist/esm-es5/index-4208cd87.js","../../pottery-ui/packages/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../../pottery-ui/packages/core/dist/esm-es5/loader.mjs","../../pottery-ui/packages/core/dist/esm-es5/patch-2f98d909.js","../../pottery-ui/packages/core/loader/index.mjs","serviceWorker.ts","App/Header/Navbar/Search/Search.tsx","domains/cart/cart.types.ts","store/search/actions.ts","domains/books/book.service.ts","store/books/selectors.ts","store/cart/selectors.ts","domains/cart/cart.service.ts","../../../../src/react-component-lib/utils/attachProps.ts","../../../../src/react-component-lib/utils/case.ts","../../../../src/react-component-lib/utils/index.tsx","../../../src/react-component-lib/createComponent.tsx","../../src/index.ts","App/Header/Navbar/CartLink/CartLink.tsx","App/Header/Navbar/Navbar.tsx","App/Header/Header.tsx","store/cart/actions.ts","store/books/actions.ts","App/Library/BookList/BookList.tsx","config.ts","App/Library/Cart/Cart.tsx","App/Library/Library.tsx","App/App.tsx","store/books/reducer.ts","store/cart/reducer.ts","store/reducers.ts","store/search/reducer.ts","store/index.ts","index.tsx","../../pottery-ui/packages/core/dist/esm/polyfills/index.js"],"names":["scopeId","contentRef","hostTagName","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","k","a","j","jl","NAMESPACE","useNativeShadowDom","checkSlotFallbackVisibility","checkSlotRelocate","queuePending","win","window","CSS","doc","document","head","plt","$flags$","$resourcesUrl$","jmp","h","raf","requestAnimationFrame","ael","el","eventName","listener","opts","addEventListener","rel","removeEventListener","supportsShadow","attachShadow","indexOf","promiseResolve","supportsConstructibleStylesheets","CSSStyleSheet","createTime","fnName","tagName","rootAppliedStyles","WeakMap","attachStyles","hostRef","cmpMeta","$cmpMeta$","elm","$hostElement$","flags","endAttachStyles","$tagName$","styleContainerNode","mode","hostElm","getScopeId","style","styles","get","nodeType","appliedStyles","styleElm","set","Set","has","$cssShim$","newScopeId","createHostStyle","createElement","innerHTML","insertBefore","querySelector","add","adoptedStyleSheets","includes","addStyle","shadowRoot","getRootNode","$modeName$","classList","cmp","EMPTY_OBJ","isComplexType","o","nodeName","vnodeData","children","_i","child","key","slotName","simple","lastSimple","vNodeChildren","walk","c","isArray","String","$text$","newVNode","name","classData_1","className","class","keys","filter","join","vnode","$attrs$","$children$","$key$","$name$","tag","text","$tag$","$elm$","Host","setAccessor","memberName","oldValue","newValue","isSvg","isProp","isMemberInElement","ln","toLowerCase","oldClasses_1","parseClassList","newClasses_1","remove","isComplex","getAttribute","removeAttribute","setAttribute","slice","parseClassListRegex","split","updateElement","oldVnode","newVnode","isSvgMode","host","oldVnodeAttrs","newVnodeAttrs","undefined","createElm","oldParentVNode","newParentVNode","childIndex","parentElm","childNode","oldVNode","createTextNode","appendChild","putBackInOriginalLocation","recursive","oldSlotChildNodes","childNodes","parentReferenceNode","referenceNode","addVnodes","before","parentVNode","vnodes","startIdx","endIdx","containerElm","parentNode","removeVnodes","updateChildren","oldCh","newCh","node","elmToMove","oldStartIdx","newStartIdx","idxInOld","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","isSameVnode","patch","nextSibling","vnode1","vnode2","defaultHolder","oldChildren","newChildren","textContent","data","relocateNodes","isNodeLocatedInSlot","nodeToRelocate","slotNameAttr","renderVdom","renderFnResults","$vnode$","rootVnode","relocateSlotContent","hostContentNodes","relocateNodeData","ilen","find","$nodeToRelocate$","$slotRefNode$","map","relocateNode","some","relocateData","orgLocationNode","parentNodeRef","insertBeforeNode","refNode","previousSibling","hidden","updateFallbackSlotVisibility","trim","createEvent","ref","getHostRef","getElement","emit","detail","emitEvent","bubbles","composed","cancelable","ev","CustomEvent","dispatchEvent","attachToAncestor","ancestorComponent","$onRenderResolve$","scheduleUpdate","isInitialLoad","$ancestorComponent$","writeTask","dispatchHooks","endSchedule","instance","$lazyInstance$","promise","updateComponent","endUpdate","rc","endRender","callRender","updateHost","cb","childrenPromises","postUpdate","postUpdateComponent","all","render","consoleError","endPostUpdate","addHydratedFlag","$onReadyResolve$","appDidLoad","nextTick","who","documentElement","namespace","thenFn","setValue","propName","newVal","propValue","propType","oldVal","$instanceValues$","$members$","parseFloat","proxyComponent","Cstr","members","entries","prototype_1","_a","memberFlags","defineProperty","configurable","enumerable","attrNameToPropName_1","Map","attributeChangedCallback","attrName","_oldValue","_this","observedAttributes","initializeComponent","hmrVersionId","endLoad","endNewInstance","style_1","scopeId_1","endRegisterStyles","schedule","loadModule","isProxied","m","scopeCss","cssText","allowCS","replace","registerStyle","setContentReference","contentRefElm","createComment","firstChild","bootstrapLazy","lazyBundles","options","appLoadFallback","endBootstrap","cmpTags","exclude","customElements","metaCharset","visibilityStyle","deferredConnectedCallbacks","isBootstrapping","assign","URL","resourcesUrl","baseURI","href","lazyBundle","compactMeta","$listeners$","HostElement","_super","self","registerHost","connectedCallback","clearTimeout","hostRef_1","cmpMeta_1","endConnected","disconnectedCallback","removeHost","forceUpdate","isConnected","componentOnReady","$onReadyPromise$","HTMLElement","$lazyBundleId$","define","setTimeout","hostRefs","registerInstance","lazyInstance","console","error","cmpModules","exportName","bundleId","module","importedModule","queueDomReads","queueDomWrites","queueTask","queue","write","flush","consume","performance","now","webpackAsyncContext","req","__webpack_require__","Error","code","ids","id","exports","defineCustomElements","supports","__cssshim","Reflect","construct","Boolean","location","hostname","match","Search","OfferType","useSelector","state","search","history","useHistory","dispatch","useDispatch","useRef","handleEnter","useCallback","onChanged","type","setSearchAction","useEffect","input","current","onValueChanged","onEnterPressed","isBook","item","getBooks","books","selectFilteredBooks","createSelector","lowerCaseFilter","book","title","synopsis","bookFilter","getCartLength","cart","itemsIsbns","getCartItems","isbns","isbn","getTotal","reduce","total","price","getTotalWithPromo","offers","Math","min","offer","MINUS","PERCENTAGE","SLICE","floor","sliceValue","applyOffer","ReactComponent","props","CartLink","count","to","UiCartLink","Navbar","UiNavbar","Header","UiHeader","addToCartAction","bookIsbn","setOffersAction","setBooksAction","BookList","handleAddToCart","event","getState","booksIsbns","axios","response","log","onAddToCart","Cart","items","totalWithPromo","UiCart","Library","UiMain","exact","path","component","App","initialBooksState","initialCartState","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","store","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message","promises","Element","closest","matches","startsWith","endsWith","NodeList","forEach","fetch","u","pathname","searchParams","checkIfURLIsSupported","applyPolyfills"],"mappings":"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","file":"static/js/main.a939d7de.chunk.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar NAMESPACE = 'core';\nvar scopeId;\nvar contentRef;\nvar hostTagName;\nvar useNativeShadowDom = false;\nvar checkSlotFallbackVisibility = false;\nvar checkSlotRelocate = false;\nvar isSvgMode = false;\nvar queuePending = false;\nvar win = typeof window !== 'undefined' ? window : {};\nvar CSS = win.CSS;\nvar doc = win.document || { head: {} };\nvar plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    jmp: function (h) { return h(); },\n    raf: function (h) { return requestAnimationFrame(h); },\n    ael: function (el, eventName, listener, opts) { return el.addEventListener(eventName, listener, opts); },\n    rel: function (el, eventName, listener, opts) { return el.removeEventListener(eventName, listener, opts); },\n};\nvar supportsShadow = /*@__PURE__*/ (function () { return (doc.head.attachShadow + '').indexOf('[native') > -1; })();\nvar promiseResolve = function (v) { return Promise.resolve(v); };\nvar supportsConstructibleStylesheets = /*@__PURE__*/ (function () {\n    try {\n        new CSSStyleSheet();\n        return true;\n    }\n    catch (e) { }\n    return false;\n})();\nvar HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\nvar createTime = function (fnName, tagName) {\n    if (tagName === void 0) { tagName = ''; }\n    {\n        return function () {\n            return;\n        };\n    }\n};\nvar uniqueTime = function (key, measureText) {\n    {\n        return function () {\n            return;\n        };\n    }\n};\nvar rootAppliedStyles = new WeakMap();\nvar registerStyle = function (scopeId, cssText, allowCS) {\n    var style = styles.get(scopeId);\n    if (supportsConstructibleStylesheets && allowCS) {\n        style = (style || new CSSStyleSheet());\n        style.replace(cssText);\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nvar addStyle = function (styleContainerNode, cmpMeta, mode, hostElm) {\n    var scopeId = getScopeId(cmpMeta);\n    var style = styles.get(scopeId);\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc;\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            var appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            var styleElm = void 0;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));\n            }\n            if (!appliedStyles.has(scopeId)) {\n                {\n                    if (plt.$cssShim$) {\n                        styleElm = plt.$cssShim$.createHostStyle(hostElm, scopeId, style, !!(cmpMeta.$flags$ & 10 /* needsScopedEncapsulation */));\n                        var newScopeId = styleElm['s-sc'];\n                        if (newScopeId) {\n                            scopeId = newScopeId;\n                            // we don't want to add this styleID to the appliedStyles Set\n                            // since the cssVarShim might need to apply several different\n                            // stylesheets for the same component\n                            appliedStyles = null;\n                        }\n                    }\n                    else {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = __spreadArrays(styleContainerNode.adoptedStyleSheets, [style]);\n        }\n    }\n    return scopeId;\n};\nvar attachStyles = function (hostRef) {\n    var cmpMeta = hostRef.$cmpMeta$;\n    var elm = hostRef.$hostElement$;\n    var flags = cmpMeta.$flags$;\n    var endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n    var scopeId = addStyle(supportsShadow && elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta, hostRef.$modeName$, elm);\n    if (flags & 10 /* needsScopedEncapsulation */) {\n        // only required when we're NOT using native shadow dom (slot)\n        // or this browser doesn't support native shadow dom\n        // and this host element was NOT created with SSR\n        // let's pick out the inner content for slot projection\n        // create a node to represent where the original\n        // content was first placed, which is useful later on\n        // DOM WRITE!!\n        elm['s-sc'] = scopeId;\n        elm.classList.add(scopeId + '-h');\n    }\n    endAttachStyles();\n};\nvar getScopeId = function (cmp, mode) { return 'sc-' + (cmp.$tagName$); };\n/**\n * Default style mode id\n */\n/**\n * Reusable empty obj/array\n * Don't add values to these!!\n */\nvar EMPTY_OBJ = {};\nvar isDef = function (v) { return v != null; };\nvar isComplexType = function (o) {\n    // https://jsperf.com/typeof-fn-object/5\n    o = typeof o;\n    return o === 'object' || o === 'function';\n};\n/**\n * Production h() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\n// const stack: any[] = [];\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;\nvar h = function (nodeName, vnodeData) {\n    var children = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        children[_i - 2] = arguments[_i];\n    }\n    var child = null;\n    var key = null;\n    var slotName = null;\n    var simple = false;\n    var lastSimple = false;\n    var vNodeChildren = [];\n    var walk = function (c) {\n        for (var i = 0; i < c.length; i++) {\n            child = c[i];\n            if (Array.isArray(child)) {\n                walk(child);\n            }\n            else if (child != null && typeof child !== 'boolean') {\n                if ((simple = typeof nodeName !== 'function' && !isComplexType(child))) {\n                    child = String(child);\n                }\n                if (simple && lastSimple) {\n                    // If the previous child was simple (string), we merge both\n                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;\n                }\n                else {\n                    // Append a new vNode, if it's text, we create a text vNode\n                    vNodeChildren.push(simple ? newVNode(null, child) : child);\n                }\n                lastSimple = simple;\n            }\n        }\n    };\n    walk(children);\n    if (vnodeData) {\n        // normalize class / classname attributes\n        if (vnodeData.key) {\n            key = vnodeData.key;\n        }\n        if (vnodeData.name) {\n            slotName = vnodeData.name;\n        }\n        {\n            var classData_1 = vnodeData.className || vnodeData.class;\n            if (classData_1) {\n                vnodeData.class =\n                    typeof classData_1 !== 'object'\n                        ? classData_1\n                        : Object.keys(classData_1)\n                            .filter(function (k) { return classData_1[k]; })\n                            .join(' ');\n            }\n        }\n    }\n    var vnode = newVNode(nodeName, null);\n    vnode.$attrs$ = vnodeData;\n    if (vNodeChildren.length > 0) {\n        vnode.$children$ = vNodeChildren;\n    }\n    {\n        vnode.$key$ = key;\n    }\n    {\n        vnode.$name$ = slotName;\n    }\n    return vnode;\n};\nvar newVNode = function (tag, text) {\n    var vnode = {\n        $flags$: 0,\n        $tag$: tag,\n        $text$: text,\n        $elm$: null,\n        $children$: null,\n    };\n    {\n        vnode.$attrs$ = null;\n    }\n    {\n        vnode.$key$ = null;\n    }\n    {\n        vnode.$name$ = null;\n    }\n    return vnode;\n};\nvar Host = {};\nvar isHost = function (node) { return node && node.$tag$ === Host; };\n/**\n * Production setAccessor() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\nvar setAccessor = function (elm, memberName, oldValue, newValue, isSvg, flags) {\n    if (oldValue !== newValue) {\n        var isProp = isMemberInElement(elm, memberName);\n        var ln = memberName.toLowerCase();\n        if (memberName === 'class') {\n            var classList = elm.classList;\n            var oldClasses_1 = parseClassList(oldValue);\n            var newClasses_1 = parseClassList(newValue);\n            classList.remove.apply(classList, oldClasses_1.filter(function (c) { return c && !newClasses_1.includes(c); }));\n            classList.add.apply(classList, newClasses_1.filter(function (c) { return c && !oldClasses_1.includes(c); }));\n        }\n        else if (memberName === 'key')\n            ;\n        else if ((!isProp) && memberName[0] === 'o' && memberName[1] === 'n') {\n            // Event Handlers\n            // so if the member name starts with \"on\" and the 3rd characters is\n            // a capital letter, and it's not already a member on the element,\n            // then we're assuming it's an event listener\n            if (memberName[2] === '-') {\n                // on- prefixed events\n                // allows to be explicit about the dom event to listen without any magic\n                // under the hood:\n                // <my-cmp on-click> // listens for \"click\"\n                // <my-cmp on-Click> // listens for \"Click\"\n                // <my-cmp on-ionChange> // listens for \"ionChange\"\n                // <my-cmp on-EVENTS> // listens for \"EVENTS\"\n                memberName = memberName.slice(3);\n            }\n            else if (isMemberInElement(win, ln)) {\n                // standard event\n                // the JSX attribute could have been \"onMouseOver\" and the\n                // member name \"onmouseover\" is on the window's prototype\n                // so let's add the listener \"mouseover\", which is all lowercased\n                memberName = ln.slice(2);\n            }\n            else {\n                // custom event\n                // the JSX attribute could have been \"onMyCustomEvent\"\n                // so let's trim off the \"on\" prefix and lowercase the first character\n                // and add the listener \"myCustomEvent\"\n                // except for the first character, we keep the event name case\n                memberName = ln[2] + memberName.slice(3);\n            }\n            if (oldValue) {\n                plt.rel(elm, memberName, oldValue, false);\n            }\n            if (newValue) {\n                plt.ael(elm, memberName, newValue, false);\n            }\n        }\n        else {\n            // Set property if it exists and it's not a SVG\n            var isComplex = isComplexType(newValue);\n            if ((isProp || (isComplex && newValue !== null)) && !isSvg) {\n                try {\n                    if (!elm.tagName.includes('-')) {\n                        var n = newValue == null ? '' : newValue;\n                        // Workaround for Safari, moving the <input> caret when re-assigning the same valued\n                        if (memberName === 'list') {\n                            isProp = false;\n                            // tslint:disable-next-line: triple-equals\n                        }\n                        else if (oldValue == null || elm[memberName] != n) {\n                            elm[memberName] = n;\n                        }\n                    }\n                    else {\n                        elm[memberName] = newValue;\n                    }\n                }\n                catch (e) { }\n            }\n            if (newValue == null || newValue === false) {\n                if (newValue !== false || elm.getAttribute(memberName) === '') {\n                    {\n                        elm.removeAttribute(memberName);\n                    }\n                }\n            }\n            else if ((!isProp || flags & 4 /* isHost */ || isSvg) && !isComplex) {\n                newValue = newValue === true ? '' : newValue;\n                {\n                    elm.setAttribute(memberName, newValue);\n                }\n            }\n        }\n    }\n};\nvar parseClassListRegex = /\\s/;\nvar parseClassList = function (value) { return (!value ? [] : value.split(parseClassListRegex)); };\nvar updateElement = function (oldVnode, newVnode, isSvgMode, memberName) {\n    // if the element passed in is a shadow root, which is a document fragment\n    // then we want to be adding attrs/props to the shadow root's \"host\" element\n    // if it's not a shadow root, then we add attrs/props to the same element\n    var elm = newVnode.$elm$.nodeType === 11 /* DocumentFragment */ && newVnode.$elm$.host ? newVnode.$elm$.host : newVnode.$elm$;\n    var oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;\n    var newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;\n    {\n        // remove attributes no longer present on the vnode by setting them to undefined\n        for (memberName in oldVnodeAttrs) {\n            if (!(memberName in newVnodeAttrs)) {\n                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);\n            }\n        }\n    }\n    // add new & update changed attributes\n    for (memberName in newVnodeAttrs) {\n        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);\n    }\n};\nvar createElm = function (oldParentVNode, newParentVNode, childIndex, parentElm) {\n    // tslint:disable-next-line: prefer-const\n    var newVNode = newParentVNode.$children$[childIndex];\n    var i = 0;\n    var elm;\n    var childNode;\n    var oldVNode;\n    if (!useNativeShadowDom) {\n        // remember for later we need to check to relocate nodes\n        checkSlotRelocate = true;\n        if (newVNode.$tag$ === 'slot') {\n            if (scopeId) {\n                // scoped css needs to add its scoped id to the parent element\n                parentElm.classList.add(scopeId + '-s');\n            }\n            newVNode.$flags$ |= newVNode.$children$\n                ? // slot element has fallback content\n                    2 /* isSlotFallback */\n                : // slot element does not have fallback content\n                    1 /* isSlotReference */;\n        }\n    }\n    if (newVNode.$text$ !== null) {\n        // create text node\n        elm = newVNode.$elm$ = doc.createTextNode(newVNode.$text$);\n    }\n    else if (newVNode.$flags$ & 1 /* isSlotReference */) {\n        // create a slot reference node\n        elm = newVNode.$elm$ = doc.createTextNode('');\n    }\n    else {\n        // create element\n        elm = newVNode.$elm$ = (doc.createElement(newVNode.$flags$ & 2 /* isSlotFallback */ ? 'slot-fb' : newVNode.$tag$));\n        // add css classes, attrs, props, listeners, etc.\n        {\n            updateElement(null, newVNode, isSvgMode);\n        }\n        if (isDef(scopeId) && elm['s-si'] !== scopeId) {\n            // if there is a scopeId and this is the initial render\n            // then let's add the scopeId as a css class\n            elm.classList.add((elm['s-si'] = scopeId));\n        }\n        if (newVNode.$children$) {\n            for (i = 0; i < newVNode.$children$.length; ++i) {\n                // create the node\n                childNode = createElm(oldParentVNode, newVNode, i, elm);\n                // return node could have been null\n                if (childNode) {\n                    // append our new node\n                    elm.appendChild(childNode);\n                }\n            }\n        }\n    }\n    {\n        elm['s-hn'] = hostTagName;\n        if (newVNode.$flags$ & (2 /* isSlotFallback */ | 1 /* isSlotReference */)) {\n            // remember the content reference comment\n            elm['s-sr'] = true;\n            // remember the content reference comment\n            elm['s-cr'] = contentRef;\n            // remember the slot name, or empty string for default slot\n            elm['s-sn'] = newVNode.$name$ || '';\n            // check if we've got an old vnode for this slot\n            oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];\n            if (oldVNode && oldVNode.$tag$ === newVNode.$tag$ && oldParentVNode.$elm$) {\n                // we've got an old slot vnode and the wrapper is being replaced\n                // so let's move the old slot content back to it's original location\n                putBackInOriginalLocation(oldParentVNode.$elm$, false);\n            }\n        }\n    }\n    return elm;\n};\nvar putBackInOriginalLocation = function (parentElm, recursive) {\n    plt.$flags$ |= 1 /* isTmpDisconnected */;\n    var oldSlotChildNodes = parentElm.childNodes;\n    for (var i = oldSlotChildNodes.length - 1; i >= 0; i--) {\n        var childNode = oldSlotChildNodes[i];\n        if (childNode['s-hn'] !== hostTagName && childNode['s-ol']) {\n            // // this child node in the old element is from another component\n            // // remove this node from the old slot's parent\n            // childNode.remove();\n            // and relocate it back to it's original location\n            parentReferenceNode(childNode).insertBefore(childNode, referenceNode(childNode));\n            // remove the old original location comment entirely\n            // later on the patch function will know what to do\n            // and move this to the correct spot in need be\n            childNode['s-ol'].remove();\n            childNode['s-ol'] = undefined;\n            checkSlotRelocate = true;\n        }\n        if (recursive) {\n            putBackInOriginalLocation(childNode, recursive);\n        }\n    }\n    plt.$flags$ &= ~1 /* isTmpDisconnected */;\n};\nvar addVnodes = function (parentElm, before, parentVNode, vnodes, startIdx, endIdx) {\n    var containerElm = ((parentElm['s-cr'] && parentElm['s-cr'].parentNode) || parentElm);\n    var childNode;\n    if (containerElm.shadowRoot && containerElm.tagName === hostTagName) {\n        containerElm = containerElm.shadowRoot;\n    }\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (vnodes[startIdx]) {\n            childNode = createElm(null, parentVNode, startIdx, parentElm);\n            if (childNode) {\n                vnodes[startIdx].$elm$ = childNode;\n                containerElm.insertBefore(childNode, referenceNode(before));\n            }\n        }\n    }\n};\nvar removeVnodes = function (vnodes, startIdx, endIdx, vnode, elm) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        if ((vnode = vnodes[startIdx])) {\n            elm = vnode.$elm$;\n            {\n                // we're removing this element\n                // so it's possible we need to show slot fallback content now\n                checkSlotFallbackVisibility = true;\n                if (elm['s-ol']) {\n                    // remove the original location comment\n                    elm['s-ol'].remove();\n                }\n                else {\n                    // it's possible that child nodes of the node\n                    // that's being removed are slot nodes\n                    putBackInOriginalLocation(elm, true);\n                }\n            }\n            // remove the vnode's element from the dom\n            elm.remove();\n        }\n    }\n};\nvar updateChildren = function (parentElm, oldCh, newVNode, newCh) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var idxInOld = 0;\n    var i = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var node;\n    var elmToMove;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            // Vnode might have been moved left\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            patch(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            patch(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            if ((oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);\n            }\n            patch(oldStartVnode, newEndVnode);\n            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            if ((oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);\n            }\n            patch(oldEndVnode, newStartVnode);\n            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            // createKeyToOldIdx\n            idxInOld = -1;\n            {\n                for (i = oldStartIdx; i <= oldEndIdx; ++i) {\n                    if (oldCh[i] && oldCh[i].$key$ !== null && oldCh[i].$key$ === newStartVnode.$key$) {\n                        idxInOld = i;\n                        break;\n                    }\n                }\n            }\n            if (idxInOld >= 0) {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.$tag$ !== newStartVnode.$tag$) {\n                    node = createElm(oldCh && oldCh[newStartIdx], newVNode, idxInOld, parentElm);\n                }\n                else {\n                    patch(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    node = elmToMove.$elm$;\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                // new element\n                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx, parentElm);\n                newStartVnode = newCh[++newStartIdx];\n            }\n            if (node) {\n                {\n                    parentReferenceNode(oldStartVnode.$elm$).insertBefore(node, referenceNode(oldStartVnode.$elm$));\n                }\n            }\n        }\n    }\n    if (oldStartIdx > oldEndIdx) {\n        addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode, newCh, newStartIdx, newEndIdx);\n    }\n    else if (newStartIdx > newEndIdx) {\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n};\nvar isSameVnode = function (vnode1, vnode2) {\n    // compare if two vnode to see if they're \"technically\" the same\n    // need to have the same element tag, and same key to be the same\n    if (vnode1.$tag$ === vnode2.$tag$) {\n        if (vnode1.$tag$ === 'slot') {\n            return vnode1.$name$ === vnode2.$name$;\n        }\n        {\n            return vnode1.$key$ === vnode2.$key$;\n        }\n    }\n    return false;\n};\nvar referenceNode = function (node) {\n    // this node was relocated to a new location in the dom\n    // because of some other component's slot\n    // but we still have an html comment in place of where\n    // it's original location was according to it's original vdom\n    return (node && node['s-ol']) || node;\n};\nvar parentReferenceNode = function (node) { return (node['s-ol'] ? node['s-ol'] : node).parentNode; };\nvar patch = function (oldVNode, newVNode) {\n    var elm = (newVNode.$elm$ = oldVNode.$elm$);\n    var oldChildren = oldVNode.$children$;\n    var newChildren = newVNode.$children$;\n    var tag = newVNode.$tag$;\n    var text = newVNode.$text$;\n    var defaultHolder;\n    if (text === null) {\n        // element node\n        {\n            if (tag === 'slot')\n                ;\n            else {\n                // either this is the first render of an element OR it's an update\n                // AND we already know it's possible it could have changed\n                // this updates the element's css classes, attrs, props, listeners, etc.\n                updateElement(oldVNode, newVNode, isSvgMode);\n            }\n        }\n        if (oldChildren !== null && newChildren !== null) {\n            // looks like there's child vnodes for both the old and new vnodes\n            updateChildren(elm, oldChildren, newVNode, newChildren);\n        }\n        else if (newChildren !== null) {\n            // no old child vnodes, but there are new child vnodes to add\n            if (oldVNode.$text$ !== null) {\n                // the old vnode was text, so be sure to clear it out\n                elm.textContent = '';\n            }\n            // add the new vnode children\n            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);\n        }\n        else if (oldChildren !== null) {\n            // no new child vnodes, but there are old child vnodes to remove\n            removeVnodes(oldChildren, 0, oldChildren.length - 1);\n        }\n    }\n    else if ((defaultHolder = elm['s-cr'])) {\n        // this element has slotted content\n        defaultHolder.parentNode.textContent = text;\n    }\n    else if (oldVNode.$text$ !== text) {\n        // update the text content for the text only vnode\n        // and also only if the text is different than before\n        elm.data = text;\n    }\n};\nvar updateFallbackSlotVisibility = function (elm) {\n    // tslint:disable-next-line: prefer-const\n    var childNodes = elm.childNodes;\n    var childNode;\n    var i;\n    var ilen;\n    var j;\n    var slotNameAttr;\n    var nodeType;\n    for (i = 0, ilen = childNodes.length; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            if (childNode['s-sr']) {\n                // this is a slot fallback node\n                // get the slot name for this slot reference node\n                slotNameAttr = childNode['s-sn'];\n                // by default always show a fallback slot node\n                // then hide it if there are other slots in the light dom\n                childNode.hidden = false;\n                for (j = 0; j < ilen; j++) {\n                    if (childNodes[j]['s-hn'] !== childNode['s-hn']) {\n                        // this sibling node is from a different component\n                        nodeType = childNodes[j].nodeType;\n                        if (slotNameAttr !== '') {\n                            // this is a named fallback slot node\n                            if (nodeType === 1 /* ElementNode */ && slotNameAttr === childNodes[j].getAttribute('slot')) {\n                                childNode.hidden = true;\n                                break;\n                            }\n                        }\n                        else {\n                            // this is a default fallback slot node\n                            // any element or text node (with content)\n                            // should hide the default fallback slot node\n                            if (nodeType === 1 /* ElementNode */ || (nodeType === 3 /* TextNode */ && childNodes[j].textContent.trim() !== '')) {\n                                childNode.hidden = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            // keep drilling down\n            updateFallbackSlotVisibility(childNode);\n        }\n    }\n};\nvar relocateNodes = [];\nvar relocateSlotContent = function (elm) {\n    // tslint:disable-next-line: prefer-const\n    var childNode;\n    var node;\n    var hostContentNodes;\n    var slotNameAttr;\n    var relocateNodeData;\n    var j;\n    var i = 0;\n    var childNodes = elm.childNodes;\n    var ilen = childNodes.length;\n    for (; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && (node = childNode['s-cr'])) {\n            // first got the content reference comment node\n            // then we got it's parent, which is where all the host content is in now\n            hostContentNodes = node.parentNode.childNodes;\n            slotNameAttr = childNode['s-sn'];\n            for (j = hostContentNodes.length - 1; j >= 0; j--) {\n                node = hostContentNodes[j];\n                if (!node['s-cn'] && !node['s-nr'] && node['s-hn'] !== childNode['s-hn']) {\n                    // let's do some relocating to its new home\n                    // but never relocate a content reference node\n                    // that is suppose to always represent the original content location\n                    if (isNodeLocatedInSlot(node, slotNameAttr)) {\n                        // it's possible we've already decided to relocate this node\n                        relocateNodeData = relocateNodes.find(function (r) { return r.$nodeToRelocate$ === node; });\n                        // made some changes to slots\n                        // let's make sure we also double check\n                        // fallbacks are correctly hidden or shown\n                        checkSlotFallbackVisibility = true;\n                        node['s-sn'] = node['s-sn'] || slotNameAttr;\n                        if (relocateNodeData) {\n                            // previously we never found a slot home for this node\n                            // but turns out we did, so let's remember it now\n                            relocateNodeData.$slotRefNode$ = childNode;\n                        }\n                        else {\n                            // add to our list of nodes to relocate\n                            relocateNodes.push({\n                                $slotRefNode$: childNode,\n                                $nodeToRelocate$: node,\n                            });\n                        }\n                        if (node['s-sr']) {\n                            relocateNodes.map(function (relocateNode) {\n                                if (isNodeLocatedInSlot(relocateNode.$nodeToRelocate$, node['s-sn'])) {\n                                    relocateNodeData = relocateNodes.find(function (r) { return r.$nodeToRelocate$ === node; });\n                                    if (relocateNodeData && !relocateNode.$slotRefNode$) {\n                                        relocateNode.$slotRefNode$ = relocateNodeData.$slotRefNode$;\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    else if (!relocateNodes.some(function (r) { return r.$nodeToRelocate$ === node; })) {\n                        // so far this element does not have a slot home, not setting slotRefNode on purpose\n                        // if we never find a home for this element then we'll need to hide it\n                        relocateNodes.push({\n                            $nodeToRelocate$: node,\n                        });\n                    }\n                }\n            }\n        }\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            relocateSlotContent(childNode);\n        }\n    }\n};\nvar isNodeLocatedInSlot = function (nodeToRelocate, slotNameAttr) {\n    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n        if (nodeToRelocate.getAttribute('slot') === null && slotNameAttr === '') {\n            return true;\n        }\n        if (nodeToRelocate.getAttribute('slot') === slotNameAttr) {\n            return true;\n        }\n        return false;\n    }\n    if (nodeToRelocate['s-sn'] === slotNameAttr) {\n        return true;\n    }\n    return slotNameAttr === '';\n};\nvar renderVdom = function (hostRef, renderFnResults) {\n    var hostElm = hostRef.$hostElement$;\n    var cmpMeta = hostRef.$cmpMeta$;\n    var oldVNode = hostRef.$vnode$ || newVNode(null, null);\n    var rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);\n    hostTagName = hostElm.tagName;\n    rootVnode.$tag$ = null;\n    rootVnode.$flags$ |= 4 /* isHost */;\n    hostRef.$vnode$ = rootVnode;\n    rootVnode.$elm$ = oldVNode.$elm$ = (hostElm.shadowRoot || hostElm);\n    {\n        scopeId = hostElm['s-sc'];\n    }\n    {\n        contentRef = hostElm['s-cr'];\n        useNativeShadowDom = supportsShadow && (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) !== 0;\n        // always reset\n        checkSlotFallbackVisibility = false;\n    }\n    // synchronous patch\n    patch(oldVNode, rootVnode);\n    {\n        // while we're moving nodes around existing nodes, temporarily disable\n        // the disconnectCallback from working\n        plt.$flags$ |= 1 /* isTmpDisconnected */;\n        if (checkSlotRelocate) {\n            relocateSlotContent(rootVnode.$elm$);\n            var relocateData = void 0;\n            var nodeToRelocate = void 0;\n            var orgLocationNode = void 0;\n            var parentNodeRef = void 0;\n            var insertBeforeNode = void 0;\n            var refNode = void 0;\n            var i = 0;\n            for (; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (!nodeToRelocate['s-ol']) {\n                    // add a reference node marking this node's original location\n                    // keep a reference to this node for later lookups\n                    orgLocationNode = doc.createTextNode('');\n                    orgLocationNode['s-nr'] = nodeToRelocate;\n                    nodeToRelocate.parentNode.insertBefore((nodeToRelocate['s-ol'] = orgLocationNode), nodeToRelocate);\n                }\n            }\n            for (i = 0; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (relocateData.$slotRefNode$) {\n                    // by default we're just going to insert it directly\n                    // after the slot reference node\n                    parentNodeRef = relocateData.$slotRefNode$.parentNode;\n                    insertBeforeNode = relocateData.$slotRefNode$.nextSibling;\n                    orgLocationNode = nodeToRelocate['s-ol'];\n                    while ((orgLocationNode = orgLocationNode.previousSibling)) {\n                        refNode = orgLocationNode['s-nr'];\n                        if (refNode && refNode['s-sn'] === nodeToRelocate['s-sn'] && parentNodeRef === refNode.parentNode) {\n                            refNode = refNode.nextSibling;\n                            if (!refNode || !refNode['s-nr']) {\n                                insertBeforeNode = refNode;\n                                break;\n                            }\n                        }\n                    }\n                    if ((!insertBeforeNode && parentNodeRef !== nodeToRelocate.parentNode) || nodeToRelocate.nextSibling !== insertBeforeNode) {\n                        // we've checked that it's worth while to relocate\n                        // since that the node to relocate\n                        // has a different next sibling or parent relocated\n                        if (nodeToRelocate !== insertBeforeNode) {\n                            if (!nodeToRelocate['s-hn'] && nodeToRelocate['s-ol']) {\n                                // probably a component in the index.html that doesn't have it's hostname set\n                                nodeToRelocate['s-hn'] = nodeToRelocate['s-ol'].parentNode.nodeName;\n                            }\n                            // add it back to the dom but in its new home\n                            parentNodeRef.insertBefore(nodeToRelocate, insertBeforeNode);\n                        }\n                    }\n                }\n                else {\n                    // this node doesn't have a slot home to go to, so let's hide it\n                    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n                        nodeToRelocate.hidden = true;\n                    }\n                }\n            }\n        }\n        if (checkSlotFallbackVisibility) {\n            updateFallbackSlotVisibility(rootVnode.$elm$);\n        }\n        // done moving nodes around\n        // allow the disconnect callback to work again\n        plt.$flags$ &= ~1 /* isTmpDisconnected */;\n        // always reset\n        relocateNodes.length = 0;\n    }\n};\nvar getElement = function (ref) { return (getHostRef(ref).$hostElement$); };\nvar createEvent = function (ref, name, flags) {\n    var elm = getElement(ref);\n    return {\n        emit: function (detail) {\n            return emitEvent(elm, name, {\n                bubbles: !!(flags & 4 /* Bubbles */),\n                composed: !!(flags & 2 /* Composed */),\n                cancelable: !!(flags & 1 /* Cancellable */),\n                detail: detail,\n            });\n        },\n    };\n};\nvar emitEvent = function (elm, name, opts) {\n    var ev = new (CustomEvent)(name, opts);\n    elm.dispatchEvent(ev);\n    return ev;\n};\nvar attachToAncestor = function (hostRef, ancestorComponent) {\n    if (ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent['s-p']) {\n        ancestorComponent['s-p'].push(new Promise(function (r) { return (hostRef.$onRenderResolve$ = r); }));\n    }\n};\nvar scheduleUpdate = function (hostRef, isInitialLoad) {\n    {\n        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;\n    }\n    if (hostRef.$flags$ & 4 /* isWaitingForChildren */) {\n        hostRef.$flags$ |= 512 /* needsRerender */;\n        return;\n    }\n    attachToAncestor(hostRef, hostRef.$ancestorComponent$);\n    // there is no ancestorc omponent or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    var dispatch = function () { return dispatchHooks(hostRef, isInitialLoad); };\n    return writeTask(dispatch);\n};\nvar dispatchHooks = function (hostRef, isInitialLoad) {\n    var endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n    var instance = hostRef.$lazyInstance$;\n    var promise;\n    endSchedule();\n    return then(promise, function () { return updateComponent(hostRef, instance, isInitialLoad); });\n};\nvar updateComponent = function (hostRef, instance, isInitialLoad) {\n    // updateComponent\n    var elm = hostRef.$hostElement$;\n    var endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n    var rc = elm['s-rc'];\n    if (isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(hostRef);\n    }\n    var endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n    {\n        {\n            // looks like we've got child nodes to render into this host element\n            // or we need to update the css class/attrs on the host element\n            // DOM WRITE!\n            renderVdom(hostRef, callRender(hostRef, instance));\n        }\n    }\n    if (plt.$cssShim$) {\n        plt.$cssShim$.updateHost(elm);\n    }\n    if (rc) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        rc.map(function (cb) { return cb(); });\n        elm['s-rc'] = undefined;\n    }\n    endRender();\n    endUpdate();\n    {\n        var childrenPromises = elm['s-p'];\n        var postUpdate = function () { return postUpdateComponent(hostRef); };\n        if (childrenPromises.length === 0) {\n            postUpdate();\n        }\n        else {\n            Promise.all(childrenPromises).then(postUpdate);\n            hostRef.$flags$ |= 4 /* isWaitingForChildren */;\n            childrenPromises.length = 0;\n        }\n    }\n};\nvar callRender = function (hostRef, instance) {\n    try {\n        instance = instance.render();\n        {\n            hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;\n        }\n        {\n            hostRef.$flags$ |= 2 /* hasRendered */;\n        }\n    }\n    catch (e) {\n        consoleError(e);\n    }\n    return instance;\n};\nvar postUpdateComponent = function (hostRef) {\n    var tagName = hostRef.$cmpMeta$.$tagName$;\n    var elm = hostRef.$hostElement$;\n    var endPostUpdate = createTime('postUpdate', tagName);\n    var ancestorComponent = hostRef.$ancestorComponent$;\n    if (!(hostRef.$flags$ & 64 /* hasLoadedComponent */)) {\n        hostRef.$flags$ |= 64 /* hasLoadedComponent */;\n        {\n            // DOM WRITE!\n            addHydratedFlag(elm);\n        }\n        endPostUpdate();\n        {\n            hostRef.$onReadyResolve$(elm);\n            if (!ancestorComponent) {\n                appDidLoad();\n            }\n        }\n    }\n    else {\n        endPostUpdate();\n    }\n    // load events fire from bottom to top\n    // the deepest elements load first then bubbles up\n    {\n        if (hostRef.$onRenderResolve$) {\n            hostRef.$onRenderResolve$();\n            hostRef.$onRenderResolve$ = undefined;\n        }\n        if (hostRef.$flags$ & 512 /* needsRerender */) {\n            nextTick(function () { return scheduleUpdate(hostRef, false); });\n        }\n        hostRef.$flags$ &= ~(4 /* isWaitingForChildren */ | 512 /* needsRerender */);\n    }\n    // ( •_•)\n    // ( •_•)>⌐■-■\n    // (⌐■_■)\n};\nvar forceUpdate = function (ref) {\n    {\n        var hostRef = getHostRef(ref);\n        var isConnected = hostRef.$hostElement$.isConnected;\n        if (isConnected && (hostRef.$flags$ & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n            scheduleUpdate(hostRef, false);\n        }\n        // Returns \"true\" when the forced update was successfully scheduled\n        return isConnected;\n    }\n};\nvar appDidLoad = function (who) {\n    // on appload\n    // we have finish the first big initial render\n    {\n        addHydratedFlag(doc.documentElement);\n    }\n    nextTick(function () { return emitEvent(win, 'appload', { detail: { namespace: NAMESPACE } }); });\n};\nvar then = function (promise, thenFn) {\n    return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\nvar addHydratedFlag = function (elm) { return (elm.classList.add('hydrated')); };\nvar parsePropertyValue = function (propValue, propType) {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (propType & 2 /* Number */) {\n            // force it to be a number\n            return parseFloat(propValue);\n        }\n        if (propType & 1 /* String */) {\n            // could have been passed as a number or boolean\n            // but we still want it as a string\n            return String(propValue);\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\nvar getValue = function (ref, propName) { return getHostRef(ref).$instanceValues$.get(propName); };\nvar setValue = function (ref, propName, newVal, cmpMeta) {\n    // check our new property value against our internal value\n    var hostRef = getHostRef(ref);\n    var oldVal = hostRef.$instanceValues$.get(propName);\n    var flags = hostRef.$flags$;\n    var instance = hostRef.$lazyInstance$;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    if ((!(flags & 8 /* isConstructingInstance */) || oldVal === undefined) && newVal !== oldVal) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (instance) {\n            if ((flags & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(hostRef, false);\n            }\n        }\n    }\n};\nvar proxyComponent = function (Cstr, cmpMeta, flags) {\n    if (cmpMeta.$members$) {\n        // It's better to have a const than two Object.entries()\n        var members = Object.entries(cmpMeta.$members$);\n        var prototype_1 = Cstr.prototype;\n        members.map(function (_a) {\n            var memberName = _a[0], memberFlags = _a[1][0];\n            if ((memberFlags & 31 /* Prop */ || ((flags & 2 /* proxyState */) && memberFlags & 32 /* State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype_1, memberName, {\n                    get: function () {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set: function (newValue) {\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                });\n            }\n        });\n        if ((flags & 1 /* isElementConstructor */)) {\n            var attrNameToPropName_1 = new Map();\n            prototype_1.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                var _this = this;\n                plt.jmp(function () {\n                    var propName = attrNameToPropName_1.get(attrName);\n                    _this[propName] = newValue === null && typeof _this[propName] === 'boolean' ? false : newValue;\n                });\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(function (_a) {\n                var _ = _a[0], m = _a[1];\n                return m[0] & 15;\n            } /* HasAttribute */) // filter to only keep props that should match attributes\n                .map(function (_a) {\n                var propName = _a[0], m = _a[1];\n                var attrName = m[1] || propName;\n                attrNameToPropName_1.set(attrName, propName);\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\nvar initializeComponent = function (elm, hostRef, cmpMeta, hmrVersionId, Cstr) { return __awaiter(void 0, void 0, void 0, function () {\n    var endLoad, endNewInstance, style_1, scopeId_1, endRegisterStyles, ancestorComponent, schedule;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!((hostRef.$flags$ & 32 /* hasInitializedComponent */) === 0)) return [3 /*break*/, 5];\n                // we haven't initialized this element yet\n                hostRef.$flags$ |= 32 /* hasInitializedComponent */;\n                // lazy loaded components\n                // request the component's implementation to be\n                // wired up with the host element\n                Cstr = loadModule(cmpMeta);\n                if (!Cstr.then) return [3 /*break*/, 2];\n                endLoad = uniqueTime();\n                return [4 /*yield*/, Cstr];\n            case 1:\n                Cstr = _a.sent();\n                endLoad();\n                _a.label = 2;\n            case 2:\n                if (!Cstr.isProxied) {\n                    proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);\n                    Cstr.isProxied = true;\n                }\n                endNewInstance = createTime('createInstance', cmpMeta.$tagName$);\n                // ok, time to construct the instance\n                // but let's keep track of when we start and stop\n                // so that the getters/setters don't incorrectly step on data\n                {\n                    hostRef.$flags$ |= 8 /* isConstructingInstance */;\n                }\n                // construct the lazy-loaded component implementation\n                // passing the hostRef is very important during\n                // construction in order to directly wire together the\n                // host element and the lazy-loaded instance\n                try {\n                    new Cstr(hostRef);\n                }\n                catch (e) {\n                    consoleError(e);\n                }\n                {\n                    hostRef.$flags$ &= ~8 /* isConstructingInstance */;\n                }\n                endNewInstance();\n                if (!Cstr.style) return [3 /*break*/, 5];\n                style_1 = Cstr.style;\n                scopeId_1 = getScopeId(cmpMeta);\n                if (!!styles.has(scopeId_1)) return [3 /*break*/, 5];\n                endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n                if (!(cmpMeta.$flags$ & 8) /* needsShadowDomShim */) return [3 /*break*/, 4]; /* needsShadowDomShim */\n                return [4 /*yield*/, import('./shadow-css-a27537cf.js').then(function (m) { return m.scopeCss(style_1, scopeId_1, false); })];\n            case 3:\n                style_1 = _a.sent();\n                _a.label = 4;\n            case 4:\n                registerStyle(scopeId_1, style_1, !!(cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */));\n                endRegisterStyles();\n                _a.label = 5;\n            case 5:\n                ancestorComponent = hostRef.$ancestorComponent$;\n                schedule = function () { return scheduleUpdate(hostRef, true); };\n                if (ancestorComponent && ancestorComponent['s-rc']) {\n                    // this is the intial load and this component it has an ancestor component\n                    // but the ancestor component has NOT fired its will update lifecycle yet\n                    // so let's just cool our jets and wait for the ancestor to continue first\n                    // this will get fired off when the ancestor component\n                    // finally gets around to rendering its lazy self\n                    // fire off the initial update\n                    ancestorComponent['s-rc'].push(schedule);\n                }\n                else {\n                    schedule();\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar connectedCallback = function (elm) {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        var hostRef_1 = getHostRef(elm);\n        var cmpMeta_1 = hostRef_1.$cmpMeta$;\n        var endConnected = createTime('connectedCallback', cmpMeta_1.$tagName$);\n        if (!(hostRef_1.$flags$ & 1 /* hasConnected */)) {\n            // first time this component has connected\n            hostRef_1.$flags$ |= 1 /* hasConnected */;\n            {\n                // initUpdate\n                // if the slot polyfill is required we'll need to put some nodes\n                // in here to act as original content anchors as we move nodes around\n                // host element has been connected to the DOM\n                if ((cmpMeta_1.$flags$ & (4 /* hasSlotRelocation */ | 8 /* needsShadowDomShim */))) {\n                    setContentReference(elm);\n                }\n            }\n            {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                var ancestorComponent = elm;\n                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if (ancestorComponent['s-p']) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        attachToAncestor(hostRef_1, (hostRef_1.$ancestorComponent$ = ancestorComponent));\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (cmpMeta_1.$members$) {\n                Object.entries(cmpMeta_1.$members$).map(function (_a) {\n                    var memberName = _a[0], memberFlags = _a[1][0];\n                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {\n                        var value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            {\n                // connectedCallback, taskQueue, initialLoad\n                // angular sets attribute AFTER connectCallback\n                // https://github.com/angular/angular/issues/18909\n                // https://github.com/angular/angular/issues/19940\n                nextTick(function () { return initializeComponent(elm, hostRef_1, cmpMeta_1); });\n            }\n        }\n        endConnected();\n    }\n};\nvar setContentReference = function (elm) {\n    // only required when we're NOT using native shadow dom (slot)\n    // or this browser doesn't support native shadow dom\n    // and this host element was NOT created with SSR\n    // let's pick out the inner content for slot projection\n    // create a node to represent where the original\n    // content was first placed, which is useful later on\n    var contentRefElm = (elm['s-cr'] = doc.createComment(''));\n    contentRefElm['s-cn'] = true;\n    elm.insertBefore(contentRefElm, elm.firstChild);\n};\nvar disconnectedCallback = function (elm) {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        var hostRef = getHostRef(elm);\n        // clear CSS var-shim tracking\n        if (plt.$cssShim$) {\n            plt.$cssShim$.removeHost(elm);\n        }\n    }\n};\nvar bootstrapLazy = function (lazyBundles, options) {\n    if (options === void 0) { options = {}; }\n    var endBootstrap = createTime();\n    var cmpTags = [];\n    var exclude = options.exclude || [];\n    var customElements = win.customElements;\n    var head = doc.head;\n    var metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');\n    var visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    var deferredConnectedCallbacks = [];\n    var appLoadFallback;\n    var isBootstrapping = true;\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n    lazyBundles.map(function (lazyBundle) { return lazyBundle[1].map(function (compactMeta) {\n        var cmpMeta = {\n            $flags$: compactMeta[0],\n            $tagName$: compactMeta[1],\n            $members$: compactMeta[2],\n            $listeners$: compactMeta[3],\n        };\n        {\n            cmpMeta.$members$ = compactMeta[2];\n        }\n        if (!supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n            cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n        }\n        var tagName = cmpMeta.$tagName$;\n        var HostElement = /** @class */ (function (_super) {\n            __extends(HostElement, _super);\n            // StencilLazyHost\n            function HostElement(self) {\n                var _this = \n                // @ts-ignore\n                _super.call(this, self) || this;\n                self = _this;\n                registerHost(self, cmpMeta);\n                if (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                    // this component is using shadow dom\n                    // and this browser supports shadow dom\n                    // add the read-only property \"shadowRoot\" to the host element\n                    // adding the shadow root build conditionals to minimize runtime\n                    if (supportsShadow) {\n                        {\n                            self.attachShadow({ mode: 'open' });\n                        }\n                    }\n                    else if (!('shadowRoot' in self)) {\n                        self.shadowRoot = self;\n                    }\n                }\n                return _this;\n            }\n            HostElement.prototype.connectedCallback = function () {\n                var _this = this;\n                if (appLoadFallback) {\n                    clearTimeout(appLoadFallback);\n                    appLoadFallback = null;\n                }\n                if (isBootstrapping) {\n                    // connectedCallback will be processed once all components have been registered\n                    deferredConnectedCallbacks.push(this);\n                }\n                else {\n                    plt.jmp(function () { return connectedCallback(_this); });\n                }\n            };\n            HostElement.prototype.disconnectedCallback = function () {\n                var _this = this;\n                plt.jmp(function () { return disconnectedCallback(_this); });\n            };\n            HostElement.prototype.forceUpdate = function () {\n                forceUpdate(this);\n            };\n            HostElement.prototype.componentOnReady = function () {\n                return getHostRef(this).$onReadyPromise$;\n            };\n            return HostElement;\n        }(HTMLElement));\n        cmpMeta.$lazyBundleId$ = lazyBundle[0];\n        if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n            cmpTags.push(tagName);\n            customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));\n        }\n    }); });\n    {\n        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n        visibilityStyle.setAttribute('data-styles', '');\n        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n    }\n    // Process deferred connectedCallbacks now all components have been registered\n    isBootstrapping = false;\n    if (deferredConnectedCallbacks.length) {\n        deferredConnectedCallbacks.map(function (host) { return host.connectedCallback(); });\n    }\n    else {\n        {\n            plt.jmp(function () { return (appLoadFallback = setTimeout(appDidLoad, 30)); });\n        }\n    }\n    // Fallback appLoad event\n    endBootstrap();\n};\nvar hostRefs = new WeakMap();\nvar getHostRef = function (ref) { return hostRefs.get(ref); };\nvar registerInstance = function (lazyInstance, hostRef) { return hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef); };\nvar registerHost = function (elm, cmpMeta) {\n    var hostRef = {\n        $flags$: 0,\n        $hostElement$: elm,\n        $cmpMeta$: cmpMeta,\n        $instanceValues$: new Map(),\n    };\n    {\n        hostRef.$onReadyPromise$ = new Promise(function (r) { return (hostRef.$onReadyResolve$ = r); });\n        elm['s-p'] = [];\n        elm['s-rc'] = [];\n    }\n    return hostRefs.set(elm, hostRef);\n};\nvar isMemberInElement = function (elm, memberName) { return memberName in elm; };\nvar consoleError = function (e) { return console.error(e); };\nvar cmpModules = /*@__PURE__*/ new Map();\nvar loadModule = function (cmpMeta, hostRef, hmrVersionId) {\n    // loadModuleImport\n    var exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n    var bundleId = cmpMeta.$lazyBundleId$;\n    var module = cmpModules.get(bundleId);\n    if (module) {\n        return module[exportName];\n    }\n    return import(\n    /* webpackInclude: /\\.entry\\.js$/ */\n    /* webpackExclude: /\\.system\\.entry\\.js$/ */\n    /* webpackMode: \"lazy\" */\n    \"./\" + bundleId + \".entry.js\" + '').then(function (importedModule) {\n        {\n            cmpModules.set(bundleId, importedModule);\n        }\n        return importedModule[exportName];\n    }, consoleError);\n};\nvar styles = new Map();\nvar queueDomReads = [];\nvar queueDomWrites = [];\nvar queueTask = function (queue, write) { return function (cb) {\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        if (write && plt.$flags$ & 4 /* queueSync */) {\n            nextTick(flush);\n        }\n        else {\n            plt.raf(flush);\n        }\n    }\n}; };\nvar consume = function (queue) {\n    for (var i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nvar flush = function () {\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    // DOM WRITES!!!\n    {\n        consume(queueDomWrites);\n        if ((queuePending = queueDomReads.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n    }\n};\nvar nextTick = /*@__PURE__*/ function (cb) { return promiseResolve().then(cb); };\nvar writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);\nexport { CSS as C, Host as H, NAMESPACE as N, promiseResolve as a, bootstrapLazy as b, createEvent as c, doc as d, h, plt as p, registerInstance as r, win as w };\n","var map = {\n\t\"./ui-book-list.entry.js\": [\n\t\t435,\n\t\t8\n\t],\n\t\"./ui-book.entry.js\": [\n\t\t436,\n\t\t9\n\t],\n\t\"./ui-button.entry.js\": [\n\t\t437,\n\t\t6\n\t],\n\t\"./ui-cart-link_2.entry.js\": [\n\t\t438,\n\t\t10\n\t],\n\t\"./ui-cart.entry.js\": [\n\t\t439,\n\t\t11\n\t],\n\t\"./ui-header.entry.js\": [\n\t\t440,\n\t\t12\n\t],\n\t\"./ui-main.entry.js\": [\n\t\t441,\n\t\t13\n\t],\n\t\"./ui-navbar.entry.js\": [\n\t\t442,\n\t\t14\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 409;\nmodule.exports = webpackAsyncContext;","import { b as bootstrapLazy } from './index-4208cd87.js';\nimport { a as patchEsm } from './patch-2f98d909.js';\nvar defineCustomElements = function (win, options) {\n    if (typeof window === 'undefined')\n        return Promise.resolve();\n    return patchEsm().then(function () {\n        return bootstrapLazy([[\"ui-book-list\", [[1, \"ui-book-list\", { \"search\": [1], \"books\": [16] }]]], [\"ui-cart-link_2\", [[1, \"ui-cart-link\", { \"count\": [2] }], [1, \"ui-search\", { \"value\": [1] }]]], [\"ui-cart\", [[1, \"ui-cart\", { \"items\": [16], \"total\": [2], \"totalWithPromo\": [2, \"total-with-promo\"] }]]], [\"ui-header\", [[1, \"ui-header\"]]], [\"ui-main\", [[1, \"ui-main\"]]], [\"ui-navbar\", [[1, \"ui-navbar\"]]], [\"ui-button\", [[1, \"ui-button\"]]], [\"ui-book\", [[1, \"ui-book\", { \"isbn\": [1], \"bookTitle\": [1, \"book-title\"], \"cover\": [1], \"price\": [2] }]]]], options);\n    });\n};\nexport { defineCustomElements };\n","import { C as CSS, p as plt, w as win, a as promiseResolve, d as doc, N as NAMESPACE } from './index-4208cd87.js';\n/*\n Stencil Client Patch v1.15.0 | MIT Licensed | https://stenciljs.com\n */\nvar getDynamicImportFunction = function (namespace) { return \"__sc_import_\" + namespace.replace(/\\s|-/g, '_'); };\nvar patchEsm = function () {\n    // NOTE!! This fn cannot use async/await!\n    // @ts-ignore\n    if (!(CSS && CSS.supports && CSS.supports('color', 'var(--c)'))) {\n        // @ts-ignore\n        return import(/* webpackChunkName: \"polyfills-css-shim\" */ './css-shim-3b0ed064.js').then(function () {\n            if ((plt.$cssShim$ = win.__cssshim)) {\n                return plt.$cssShim$.i();\n            }\n            else {\n                // for better minification\n                return 0;\n            }\n        });\n    }\n    return promiseResolve();\n};\nvar patchBrowser = function () {\n    {\n        // shim css vars\n        plt.$cssShim$ = win.__cssshim;\n    }\n    // @ts-ignore\n    var scriptElm = Array.from(doc.querySelectorAll('script')).find(function (s) { return new RegExp(\"/\" + NAMESPACE + \"(\\\\.esm)?\\\\.js($|\\\\?|#)\").test(s.src) || s.getAttribute('data-stencil-namespace') === NAMESPACE; });\n    var opts = scriptElm['data-opts'] || {};\n    if ('onbeforeload' in scriptElm && !history.scrollRestoration /* IS_ESM_BUILD */) {\n        // Safari < v11 support: This IF is true if it's Safari below v11.\n        // This fn cannot use async/await since Safari didn't support it until v11,\n        // however, Safari 10 did support modules. Safari 10 also didn't support \"nomodule\",\n        // so both the ESM file and nomodule file would get downloaded. Only Safari\n        // has 'onbeforeload' in the script, and \"history.scrollRestoration\" was added\n        // to Safari in v11. Return a noop then() so the async/await ESM code doesn't continue.\n        // IS_ESM_BUILD is replaced at build time so this check doesn't happen in systemjs builds.\n        return {\n            then: function () {\n                /* promise noop */\n            },\n        };\n    }\n    {\n        opts.resourcesUrl = new URL('.', new URL(scriptElm.getAttribute('data-resources-url') || scriptElm.src, win.location.href)).href;\n        {\n            patchDynamicImport(opts.resourcesUrl, scriptElm);\n        }\n        if (!win.customElements) {\n            // module support, but no custom elements support (Old Edge)\n            // @ts-ignore\n            return import(/* webpackChunkName: \"polyfills-dom\" */ './dom-3fa9e65e.js').then(function () { return opts; });\n        }\n    }\n    return promiseResolve(opts);\n};\nvar patchDynamicImport = function (base, orgScriptElm) {\n    var importFunctionName = getDynamicImportFunction(NAMESPACE);\n    try {\n        // test if this browser supports dynamic imports\n        // There is a caching issue in V8, that breaks using import() in Function\n        // By generating a random string, we can workaround it\n        // Check https://bugs.chromium.org/p/chromium/issues/detail?id=990810 for more info\n        win[importFunctionName] = new Function('w', \"return import(w);//\" + Math.random());\n    }\n    catch (e) {\n        // this shim is specifically for browsers that do support \"esm\" imports\n        // however, they do NOT support \"dynamic\" imports\n        // basically this code is for old Edge, v18 and below\n        var moduleMap_1 = new Map();\n        win[importFunctionName] = function (src) {\n            var url = new URL(src, base).href;\n            var mod = moduleMap_1.get(url);\n            if (!mod) {\n                var script_1 = doc.createElement('script');\n                script_1.type = 'module';\n                script_1.crossOrigin = orgScriptElm.crossOrigin;\n                script_1.src = URL.createObjectURL(new Blob([\"import * as m from '\" + url + \"'; window.\" + importFunctionName + \".m = m;\"], { type: 'application/javascript' }));\n                mod = new Promise(function (resolve) {\n                    script_1.onload = function () {\n                        resolve(win[importFunctionName].m);\n                        script_1.remove();\n                    };\n                });\n                moduleMap_1.set(url, mod);\n                doc.head.appendChild(script_1);\n            }\n            return mod;\n        };\n    }\n};\nexport { patchEsm as a, patchBrowser as p };\n","\n(function(){if(\"undefined\"!==typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)};HTMLElement.prototype=a.prototype;HTMLElement.prototype.constructor=HTMLElement;Object.setPrototypeOf(HTMLElement,a)}})();\nexport * from '../dist/esm/polyfills/index.js';\nexport * from '../dist/esm-es5/loader.mjs';\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n} from 'react'\nimport {\n  useDispatch,\n  useSelector,\n} from 'react-redux'\n\nimport { useHistory } from 'react-router-dom'\nimport { State } from '../../../../store/reducers'\nimport { setSearchAction } from '../../../../store/search/actions'\nimport { UiSearch } from '@pottery-ui/react'\n\nfunction Search() {\n  const search = useSelector((state: State) => state.search)\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const ref = useRef<any>(null)\n\n  const handleEnter = useCallback(() => {\n    history.push('/')\n  }, [history])\n\n  const onChanged = useCallback(({detail}: CustomEvent<string>) => {\n    dispatch(setSearchAction(detail))\n  }, [dispatch])\n\n  useEffect(() => {\n    const input = ref.current\n    if (input) {\n      input.addEventListener('valueChanged', onChanged)\n      input.addEventListener('enterPressed', handleEnter)\n    }\n  }, [ref, handleEnter, onChanged])\n\n  return (\n    <>\n      <ui-search ref={ref} onValueChanged={onChanged} onEnterPressed={handleEnter} />\n      {/*<UiSearch value={search} onValueChanged={onChanged} onEnterPressed={handleEnter} />*/}\n    </>\n  )\n}\n\nexport default Search\n","export enum OfferType {\n  MINUS = 'minus',\n  PERCENTAGE = 'percentage',\n  SLICE = 'slice',\n}\n\nexport interface MinusOffer {\n  type: typeof OfferType.MINUS;\n  value: number;\n}\n\nexport interface PercentageOffer {\n  type: typeof OfferType.PERCENTAGE;\n  value: number;\n}\n\nexport interface SliceOffer {\n  type: typeof OfferType.SLICE;\n  value: number;\n  sliceValue: number;\n}\n\nexport type Offer = MinusOffer | PercentageOffer | SliceOffer;\n\nexport interface Offers {\n  offers: Offer[];\n}\n","import { Action as ReduxAction } from 'redux'\n\nexport const SET_SEARCH = 'SET_SEARCH';\n\ninterface SetSearchAction extends ReduxAction {\n  type: typeof SET_SEARCH;\n  value: string;\n}\n\nexport function setSearchAction (search: string): SetSearchAction {\n  return {\n    type: SET_SEARCH,\n    value: search,\n  };\n}\n\nexport type SearchAction = SetSearchAction\n","import axios from 'axios';\n\nimport { BookType } from './book.types';\nimport { API_DOMAIN } from '../../config';\n\nexport function getBooks (): Promise<BookType[]> {\n  return axios\n      .get(`${API_DOMAIN}/books`)\n      .then(response => response.data);\n}\n\nexport function bookFilter (filter: string) {\n  const lowerCaseFilter = filter.toLowerCase();\n\n  return (book: BookType) => !filter\n      || book.title.toLowerCase().includes(lowerCaseFilter)\n      || book.synopsis.join().toLowerCase().includes(lowerCaseFilter);\n}\n\nexport function getBooksFilterBySearch(books: BookType[], search: string): BookType[] {\n  return books.filter(bookFilter(search))\n}\n\nexport function getBooksFilterByIsbns(books: BookType[], isbns: string[]): BookType[] {\n  return isbns\n    .map(isbn => books.find(book => book.isbn === isbn))\n    .filter(isBook)\n}\n\nexport function isBook(item: BookType | undefined): item is BookType {\n  return item !== undefined\n}\n","import { getBooksFilterBySearch } from '../../domains/books/book.service'\nimport { State } from '../reducers'\nimport { createSelector } from 'reselect'\n\nexport const getBooks = (state: State) => state.books\nconst getSearchFilter = (state: State) => state.search\n\nexport const selectFilteredBooks = createSelector(\n  [getBooks, getSearchFilter],\n  getBooksFilterBySearch,\n)\n","import { State } from '../reducers'\nimport { createSelector } from 'reselect'\nimport {\n  calculateTotal,\n  calculateTotalWithPromo,\n} from '../../domains/cart/cart.service'\nimport { getBooksFilterByIsbns } from '../../domains/books/book.service'\nimport { getBooks } from '../books/selectors'\n\nconst getOffers = (state: State) => state.cart.offers\nconst getCartIsbns = (state: State) => state.cart.itemsIsbns\nexport const getCartLength = (state: State) => state.cart.itemsIsbns.length\n\nexport const getCartItems = createSelector(\n  [getBooks, getCartIsbns],\n  getBooksFilterByIsbns,\n)\n\nexport const getTotal = createSelector(\n  [getCartItems],\n  calculateTotal,\n)\n\nexport const getTotalWithPromo = createSelector(\n  [getOffers, getTotal],\n  calculateTotalWithPromo,\n)\n","import axios from 'axios'\n\nimport { BookType } from '../books/book.types'\nimport { API_DOMAIN } from '../../config'\nimport {\n  Offer,\n  Offers,\n  OfferType,\n} from './cart.types'\n\nexport function calculateTotal(books: BookType[]) {\n  return books.reduce((total: number, book: BookType) => total + book.price, 0)\n}\n\nconst applyOffer = (total: number) => (offer: Offer) => {\n  switch (offer.type) {\n    case OfferType.MINUS:\n      return total - offer.value\n    case OfferType.PERCENTAGE:\n      return total * (1 - offer.value / 100)\n    case OfferType.SLICE:\n      return total - (Math.floor(total / offer.sliceValue) * offer.value)\n  }\n}\n\nexport function calculateTotalWithPromo(offers: Offer[], total: number): number {\n  return offers.length\n    ? Math.min(...offers.map(applyOffer(total)))\n    : total\n}\n\nexport function getOffers(booksIsbns: string[]): Promise<Offers> {\n  return axios\n    .get<Offers>(`${API_DOMAIN}/books/${booksIsbns.join(',')}/commercialOffers`)\n    .then(response => response.data)\n}\n","import { camelToDashCase } from './case';\nexport var attachProps = function (node, newProps, oldProps) {\n    if (oldProps === void 0) { oldProps = {}; }\n    // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n    if (node instanceof Element) {\n        // add any classes in className to the class list\n        var className = getClassName(node.classList, newProps, oldProps);\n        if (className !== '') {\n            node.className = className;\n        }\n        Object.keys(newProps).forEach(function (name) {\n            if (name === 'children' ||\n                name === 'style' ||\n                name === 'ref' ||\n                name === 'class' ||\n                name === 'className' ||\n                name === 'forwardedRef') {\n                return;\n            }\n            if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                var eventName = name.substring(2);\n                var eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n                if (!isCoveredByReact(eventNameLc)) {\n                    syncEvent(node, eventNameLc, newProps[name]);\n                }\n            }\n            else {\n                node[name] = newProps[name];\n                var propType = typeof newProps[name];\n                if (propType === 'string') {\n                    node.setAttribute(camelToDashCase(name), newProps[name]);\n                }\n                else {\n                    node[name] = newProps[name];\n                }\n            }\n        });\n    }\n};\nexport var getClassName = function (classList, newProps, oldProps) {\n    var newClassProp = newProps.className || newProps.class;\n    var oldClassProp = oldProps.className || oldProps.class;\n    // map the classes to Maps for performance\n    var currentClasses = arrayToMap(classList);\n    var incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n    var oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n    var finalClassNames = [];\n    // loop through each of the current classes on the component\n    // to see if it should be a part of the classNames added\n    currentClasses.forEach(function (currentClass) {\n        if (incomingPropClasses.has(currentClass)) {\n            // add it as its already included in classnames coming in from newProps\n            finalClassNames.push(currentClass);\n            incomingPropClasses.delete(currentClass);\n        }\n        else if (!oldPropClasses.has(currentClass)) {\n            // add it as it has NOT been removed by user\n            finalClassNames.push(currentClass);\n        }\n    });\n    incomingPropClasses.forEach(function (s) { return finalClassNames.push(s); });\n    return finalClassNames.join(' ');\n};\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nexport var isCoveredByReact = function (eventNameSuffix, doc) {\n    if (doc === void 0) { doc = document; }\n    var eventName = 'on' + eventNameSuffix;\n    var isSupported = eventName in doc;\n    if (!isSupported) {\n        var element = doc.createElement('div');\n        element.setAttribute(eventName, 'return;');\n        isSupported = typeof element[eventName] === 'function';\n    }\n    return isSupported;\n};\nexport var syncEvent = function (node, eventName, newEventHandler) {\n    var eventStore = node.__events || (node.__events = {});\n    var oldEventHandler = eventStore[eventName];\n    // Remove old listener so they don't double up.\n    if (oldEventHandler) {\n        node.removeEventListener(eventName, oldEventHandler);\n    }\n    // Bind new listener.\n    node.addEventListener(eventName, (eventStore[eventName] = function handler(e) {\n        if (newEventHandler) {\n            newEventHandler.call(this, e);\n        }\n    }));\n};\nvar arrayToMap = function (arr) {\n    var map = new Map();\n    arr.forEach(function (s) { return map.set(s, s); });\n    return map;\n};\n//# sourceMappingURL=attachProps.js.map","export var dashToPascalCase = function (str) {\n    return str\n        .toLowerCase()\n        .split('-')\n        .map(function (segment) { return segment.charAt(0).toUpperCase() + segment.slice(1); })\n        .join('');\n};\nexport var camelToDashCase = function (str) {\n    return str.replace(/([A-Z])/g, function (m) { return \"-\" + m[0].toLowerCase(); });\n};\n//# sourceMappingURL=case.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\n// The comma in the type is to trick typescript because it things a single generic in a tsx file is jsx\nexport var mergeRefs = function () {\n    var refs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        refs[_i] = arguments[_i];\n    }\n    return function (value) {\n        return refs.forEach(function (ref) {\n            if (typeof ref === 'function') {\n                ref(value);\n            }\n            else if (ref != null) {\n                // This is typed as readonly so we need to allow for override\n                ref.current = value;\n            }\n        });\n    };\n};\nexport var createForwardRef = function (ReactComponent, displayName) {\n    var forwardRef = function (props, ref) {\n        return React.createElement(ReactComponent, __assign({}, props, { forwardedRef: ref }));\n    };\n    forwardRef.displayName = displayName;\n    return React.forwardRef(forwardRef);\n};\nexport * from './attachProps';\nexport * from './case';\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { attachProps, createForwardRef, dashToPascalCase, isCoveredByReact, mergeRefs, } from './utils';\nexport var createReactComponent = function (tagName, ReactComponentContext, manipulatePropsFunction) {\n    if (manipulatePropsFunction === void 0) { manipulatePropsFunction = undefined; }\n    var displayName = dashToPascalCase(tagName);\n    var ReactComponent = /** @class */ (function (_super) {\n        __extends(class_1, _super);\n        function class_1(props) {\n            var _this = _super.call(this, props) || this;\n            _this.setComponentElRef = function (element) {\n                _this.componentEl = element;\n            };\n            return _this;\n        }\n        class_1.prototype.componentDidMount = function () {\n            this.componentDidUpdate(this.props);\n        };\n        class_1.prototype.componentDidUpdate = function (prevProps) {\n            attachProps(this.componentEl, this.props, prevProps);\n        };\n        class_1.prototype.render = function () {\n            var _a = this.props, children = _a.children, forwardedRef = _a.forwardedRef, style = _a.style, className = _a.className, ref = _a.ref, cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n            var propsToPass = Object.keys(cProps).reduce(function (acc, name) {\n                if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                    var eventName = name.substring(2).toLowerCase();\n                    if (isCoveredByReact(eventName)) {\n                        acc[name] = cProps[name];\n                    }\n                }\n                return acc;\n            }, {});\n            if (manipulatePropsFunction) {\n                propsToPass = manipulatePropsFunction(this.props, propsToPass);\n            }\n            var newProps = __assign(__assign({}, propsToPass), { ref: mergeRefs(forwardedRef, this.setComponentElRef), style: style });\n            return React.createElement(tagName, newProps, children);\n        };\n        Object.defineProperty(class_1, \"displayName\", {\n            get: function () {\n                return displayName;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return class_1;\n    }(React.Component));\n    // If context was passed to createReactComponent then conditionally add it to the Component Class\n    if (ReactComponentContext) {\n        ReactComponent.contextType = ReactComponentContext;\n    }\n    return createForwardRef(ReactComponent, displayName);\n};\n//# sourceMappingURL=createComponent.js.map","/* eslint-disable */\n/* tslint:disable */\n/* auto-generated react proxies */\nimport { createReactComponent } from './react-component-lib';\nexport var UiBook = /*@__PURE__*/ createReactComponent('ui-book');\nexport var UiBookList = /*@__PURE__*/ createReactComponent('ui-book-list');\nexport var UiButton = /*@__PURE__*/ createReactComponent('ui-button');\nexport var UiCart = /*@__PURE__*/ createReactComponent('ui-cart');\nexport var UiCartLink = /*@__PURE__*/ createReactComponent('ui-cart-link');\nexport var UiHeader = /*@__PURE__*/ createReactComponent('ui-header');\nexport var UiMain = /*@__PURE__*/ createReactComponent('ui-main');\nexport var UiNavbar = /*@__PURE__*/ createReactComponent('ui-navbar');\nexport var UiSearch = /*@__PURE__*/ createReactComponent('ui-search');\n//# sourceMappingURL=index.js.map","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { getCartLength } from '../../../../store/cart/selectors'\nimport { UiCartLink } from '@pottery-ui/react'\n\nfunction CartLink() {\n  const count = useSelector(getCartLength)\n\n  return (\n    <Link to=\"/cart\">\n      <UiCartLink count={count}/>\n    </Link>\n  )\n}\n\nexport default CartLink\n","import React from 'react'\n\nimport Search from './Search/Search'\nimport CartButton from './CartLink/CartLink'\nimport { UiNavbar } from '@pottery-ui/react'\n\nfunction Navbar() {\n  return (\n    <UiNavbar>\n      <Search/>\n      <CartButton/>\n    </UiNavbar>\n  )\n}\n\nexport default Navbar\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Navbar from './Navbar/Navbar';\nimport { UiHeader } from '@pottery-ui/react'\n\nfunction Header () {\n  return (\n    <UiHeader>\n      <h1><Link to=\"/\">Pottery Shop</Link></h1>\n      <Navbar/>\n    </UiHeader>\n  );\n}\n\nexport default Header;\n","import { Action as ReduxAction } from 'redux'\nimport {\n  ThunkAction,\n  ThunkDispatch,\n} from 'redux-thunk'\n\nimport { State } from '../reducers'\nimport { getOffers } from '../../domains/cart/cart.service'\nimport { Offer } from '../../domains/cart/cart.types'\n\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const SET_CART_TOTAL = 'SET_CART_TOTAL';\nexport const SET_OFFERS = 'SET_OFFERS';\n\ninterface AddToCartAction extends ReduxAction {\n  type: typeof ADD_TO_CART;\n  bookIsbn: string;\n}\n\ninterface SetOffersAction extends ReduxAction {\n  type: typeof SET_OFFERS;\n  offers: Offer[]\n}\n\nexport type CartAction =\n  | AddToCartAction\n  | SetOffersAction\n  ;\n\nexport function addToCartAction(bookIsbn: string): AddToCartAction {\n  return {\n    type: ADD_TO_CART,\n    bookIsbn,\n  }\n}\n\nexport function setOffersAction(offers: Offer[]): SetOffersAction {\n  return {\n    type: SET_OFFERS,\n    offers,\n  }\n}\n\nexport function addToCart(bookIsbn: string): ThunkAction<void, State, any, CartAction> {\n  return async (dispatch: ThunkDispatch<State, any, CartAction>, getState: () => State) => {\n    dispatch(addToCartAction(bookIsbn))\n\n    const {cart: {itemsIsbns}} = getState()\n\n    const {offers} = await getOffers(itemsIsbns)\n\n    dispatch(setOffersAction(offers))\n  }\n}\n","import {\n  Action as ReduxAction,\n  Dispatch,\n} from 'redux'\nimport { BookType } from '../../domains/books/book.types'\nimport { getBooks } from '../../domains/books/book.service'\n\nexport const SET_BOOKS = 'SET_BOOKS'\n\ninterface SetBooksAction extends ReduxAction {\n  type: typeof SET_BOOKS;\n  books: BookType[];\n}\n\nexport function setBooksAction(books: BookType[]): SetBooksAction {\n  return {\n    type: SET_BOOKS,\n    books,\n  }\n}\n\nexport type BooksAction = SetBooksAction;\n\nexport function loadBooks(): (dispatch: Dispatch<BooksAction>) => Promise<void> {\n  return async (dispatch: Dispatch<BooksAction>) => {\n    try {\n      const books = await getBooks()\n      dispatch(setBooksAction(books))\n    } catch (error) {\n      console.log('error during load books')\n    }\n  }\n}\n","import React, {\n  useCallback,\n  useEffect,\n} from 'react'\nimport {\n  useDispatch,\n  useSelector,\n} from 'react-redux'\nimport { UiBookList } from '@pottery-ui/react'\n\nimport { State } from '../../../store/reducers'\nimport { addToCart } from '../../../store/cart/actions'\nimport { loadBooks } from '../../../store/books/actions'\nimport { selectFilteredBooks } from '../../../store/books/selectors'\n\nfunction BookList() {\n  const search = useSelector((state: State) => state.search)\n  const books = useSelector(selectFilteredBooks)\n  const dispatch = useDispatch()\n\n  const handleAddToCart = useCallback(\n    (event: CustomEvent<string>) => dispatch(addToCart(event.detail)),\n    [dispatch]\n  )\n\n  useEffect(() => {\n    dispatch(loadBooks())\n  }, [dispatch])\n\n  return (\n    <ui-book-list search={search} books={books} onAddToCart={handleAddToCart} />\n    // <UiBookList search={search} books={books} onAddToCart={handleAddToCart} />\n  )\n}\n\nexport default BookList\n","export const API_DOMAIN = 'http://henri-potier.xebia.fr';\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport {\n  getCartItems,\n  getTotal,\n  getTotalWithPromo,\n} from '../../../store/cart/selectors'\nimport { UiCart } from '@pottery-ui/react'\n\nfunction Cart() {\n  const items = useSelector(getCartItems)\n  const total = useSelector(getTotal)\n  const totalWithPromo = useSelector(getTotalWithPromo)\n\n  return (\n    <UiCart items={items} total={total} totalWithPromo={totalWithPromo} />\n  )\n}\n\nexport default Cart\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport BookList from './BookList/BookList';\nimport Cart from './Cart/Cart';\nimport { UiMain } from '@pottery-ui/react'\n\nfunction Library () {\n  return (\n      <UiMain>\n        <Switch>\n          <Route exact path=\"/\" component={BookList}/>\n          <Route path=\"/cart\" component={Cart}/>\n        </Switch>\n      </UiMain>\n  );\n}\n\nexport default Library;\n","import React from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport Header from './Header/Header'\nimport Library from './Library/Library'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header/>\n        <Library/>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import { BookType } from '../../domains/books/book.types'\nimport {\n  BooksAction,\n  SET_BOOKS,\n} from './actions'\n\nexport type BooksState = BookType[]\nexport const initialBooksState = []\n\nexport function booksReducer(state: BooksState = initialBooksState, action: BooksAction): BooksState {\n  switch (action.type) {\n    case SET_BOOKS:\n      return action.books\n    default:\n      return state\n  }\n}\n","import { Offer } from '../../domains/cart/cart.types'\nimport {\n  ADD_TO_CART,\n  CartAction,\n  SET_OFFERS,\n} from './actions'\n\nexport interface CartState {\n  itemsIsbns: string[];\n  offers: Offer[]\n}\n\nexport const initialCartState: CartState = {\n  itemsIsbns: [],\n  offers: [],\n}\n\nexport function cartReducer(state: CartState = initialCartState, action: CartAction): CartState {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return {\n        ...state,\n        itemsIsbns: [\n          ...state.itemsIsbns,\n          action.bookIsbn,\n        ],\n      }\n    case SET_OFFERS:\n      return {\n        ...state,\n        offers: action.offers,\n      }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport {\n  booksReducer,\n  BooksState,\n} from './books/reducer'\nimport {\n  searchReducer,\n  SearchState,\n} from './search/reducer'\nimport {\n  cartReducer,\n  CartState,\n} from './cart/reducer'\n\nexport interface State {\n  search: SearchState;\n  books: BooksState;\n  cart: CartState;\n}\n\nexport const rootReducer = combineReducers({\n  search: searchReducer,\n  books: booksReducer,\n  cart: cartReducer,\n})\n","import {\n  SearchAction,\n  SET_SEARCH,\n} from './actions'\n\nexport type SearchState = string\n\nexport const initialSearchState = ''\n\nexport function searchReducer(state: SearchState = initialSearchState, action: SearchAction): SearchState {\n  switch (action.type) {\n    case SET_SEARCH:\n      return action.value\n    default:\n      return state\n  }\n}\n","import {\n  applyMiddleware,\n  compose,\n  createStore,\n} from 'redux'\nimport thunk from 'redux-thunk'\n\nimport { rootReducer } from './reducers'\n\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nexport default createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk)),\n)\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider as ReduxProvider } from 'react-redux'\nimport { defineCustomElements, applyPolyfills } from '@pottery-ui/core/loader'\n\nimport * as serviceWorker from './serviceWorker'\nimport './index.css'\nimport App from './App/App'\nimport store from './store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ReduxProvider store={store}>\n      <App/>\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n\napplyPolyfills().then(() => defineCustomElements(window))\n","export function applyPolyfills() {\n  var promises = [];\n  if (typeof window !== 'undefined') {\n    var win = window;\n\n    if (!win.customElements ||\n      (win.Element && (!win.Element.prototype.closest || !win.Element.prototype.matches || !win.Element.prototype.remove || !win.Element.prototype.getRootNode))) {\n      promises.push(import(/* webpackChunkName: \"polyfills-dom\" */ './dom.js'));\n    }\n\n    function checkIfURLIsSupported() {\n      try {\n        var u = new URL('b', 'http://a');\n        u.pathname = 'c%20d';\n        return (u.href === 'http://a/c%20d') && u.searchParams;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (\n      'function' !== typeof Object.assign || !Object.entries ||\n      !Array.prototype.find || !Array.prototype.includes ||\n      !String.prototype.startsWith || !String.prototype.endsWith ||\n      (win.NodeList && !win.NodeList.prototype.forEach) ||\n      !win.fetch ||\n      !checkIfURLIsSupported() ||\n      typeof WeakMap == 'undefined'\n    ) {\n      promises.push(import(/* webpackChunkName: \"polyfills-core-js\" */ './core-js.js'));\n    }\n  }\n  return Promise.all(promises);\n}\n"],"sourceRoot":""}